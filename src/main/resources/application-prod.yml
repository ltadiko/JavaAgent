# ╔═══════════════════════════════════════════════════════════════════════════╗
# ║  JobAgent — PROD profile (Cloud: OpenAI / AWS S3 / Managed Postgres)     ║
# ╚═══════════════════════════════════════════════════════════════════════════╝

spring:
  datasource:
    url: ${DATABASE_URL}
    username: ${DATABASE_USERNAME}
    password: ${DATABASE_PASSWORD}

  data:
    redis:
      host: ${REDIS_HOST}
      port: ${REDIS_PORT:6379}
      password: ${REDIS_PASSWORD:}

  kafka:
    bootstrap-servers: ${KAFKA_BOOTSTRAP_SERVERS}

  ai:
    openai:
      api-key: ${OPENAI_API_KEY}
      chat:
        options:
          model: gpt-4o
          temperature: 0.7
      embedding:
        options:
          model: text-embedding-3-small
    vectorstore:
      pgvector:
        index-type: hnsw
        distance-type: cosine_distance
        dimensions: ${app.embedding.dimensions}
        remove-existing-vector-store-table: false

app:
  embedding:
    dimensions: 1536
  storage:
    endpoint: ${S3_ENDPOINT:https://s3.amazonaws.com}
    access-key: ${S3_ACCESS_KEY}
    secret-key: ${S3_SECRET_KEY}
    region: ${S3_REGION:eu-west-1}
  encryption:
    secret-key: ${ENCRYPTION_SECRET_KEY}
  cors:
    allowed-origins: ${CORS_ALLOWED_ORIGINS:https://app.jobagent.com}

logging:
  level:
    com.jobagent: INFO
    org.springframework.ai: WARN
